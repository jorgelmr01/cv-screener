<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Screener - LinkedIn CV Evaluator</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìã CV Screener</h1>
            <p class="subtitle">Evaluate LinkedIn CVs with AI-powered analysis</p>
        </header>

        <div class="input-section">
            <div class="input-group">
                <label for="apiKey">OpenAI API Key:</label>
                <input type="password" id="apiKey" placeholder="sk-..." />
                <small>Your API key is stored locally and never sent to our servers</small>
            </div>

            <div class="input-group">
                <label for="gptModel">GPT Model:</label>
                <select id="gptModel">
                    <optgroup label="GPT-5 Family">
                        <option value="gpt-5.1" selected>GPT-5.1 - Best for coding and agentic tasks with configurable reasoning effort</option>
                        <option value="gpt-5">GPT-5 - Previous intelligent reasoning model for coding and agentic tasks</option>
                        <option value="gpt-5-mini">GPT-5 mini - Faster, cost-efficient version of GPT-5 for well-defined tasks</option>
                        <option value="gpt-5-nano">GPT-5 nano - Fastest, most cost-efficient version of GPT-5</option>
                    </optgroup>
                    <optgroup label="Other Models">
                        <option value="gpt-4o">GPT-4o - Fast, intelligent, flexible GPT model</option>
                        <option value="gpt-4o-mini">GPT-4o mini - Fast, affordable small model for focused tasks</option>
                        <option value="o3">o3 - Reasoning model for complex tasks, succeeded by GPT-5</option>
                        <option value="gpt-4.1">GPT-4.1 - Smartest non-reasoning model</option>
                        <option value="o4-mini">o4-mini - Fast, cost-efficient reasoning model, succeeded by GPT-5 mini</option>
                        <option value="gpt-4.1-mini">GPT-4.1 mini - Smaller, faster version of GPT-4.1</option>
                    </optgroup>
                </select>
                <small>Select the GPT model to use for CV analysis</small>
            </div>

            <div class="input-group">
                <label for="jobDescription">Job Position Description:</label>
                <textarea id="jobDescription" rows="5" placeholder="Enter the job position description, requirements, and context here..."></textarea>
            </div>

            <div class="input-group config-box">
                <label for="personalizedInstructions">‚öôÔ∏è Personalized Instructions (Optional):</label>
                <textarea id="personalizedInstructions" rows="4" placeholder="Example: Exclude candidates from X or Y school/company. Prioritize candidates with specific skills. Apply any custom filtering criteria..."></textarea>
                <small>Add custom instructions for the AI analysis (e.g., exclude certain schools/companies, prioritize specific criteria)</small>
            </div>

            <div class="input-group config-box">
                <div class="config-header" onclick="toggleCriteriaConfig()">
                    <label>üìä Evaluation Criteria Configuration:</label>
                    <span class="toggle-icon" id="criteriaToggleIcon">‚ñº</span>
                </div>
                <div id="criteriaConfig" class="collapsible-content">
                    <div class="criterion-item">
                        <input type="text" class="criterion-name" data-criterion="relevance" placeholder="Criterion Name" value="Profile Relevance to Position" />
                        <textarea class="criterion-desc" data-criterion="relevance" placeholder="Criterion Description" rows="2">Compare the CV content with the job position context. Consider skills, experience, and overall fit.</textarea>
                    </div>
                    <div class="criterion-item">
                        <input type="text" class="criterion-name" data-criterion="education" placeholder="Criterion Name" value="Education Level" />
                        <textarea class="criterion-desc" data-criterion="education" placeholder="Criterion Description" rows="2">Evaluate the prestige of educational institutions. Main degree counts for 80% of the value, additional certifications, exchange programs, etc. count for 20%.</textarea>
                    </div>
                    <div class="criterion-item">
                        <input type="text" class="criterion-name" data-criterion="previousJobs" placeholder="Criterion Name" value="Previous Jobs" />
                        <textarea class="criterion-desc" data-criterion="previousJobs" placeholder="Criterion Description" rows="2">Assess the prestige of previous employers and the level of the last position held.</textarea>
                    </div>
                    <div class="criterion-item">
                        <input type="text" class="criterion-name" data-criterion="proactivity" placeholder="Criterion Name" value="Proactivity" />
                        <textarea class="criterion-desc" data-criterion="proactivity" placeholder="Criterion Description" rows="2">Evaluate extracurricular activities, certifications, continuous learning, and initiative shown beyond basic job requirements.</textarea>
                    </div>
                </div>
                <small>Customize the evaluation criteria names and descriptions</small>
            </div>

            <div class="input-group">
                <label for="cvFiles">Upload LinkedIn CVs (PDF):</label>
                <input type="file" id="cvFiles" multiple accept=".pdf" />
                <small>Select multiple PDF files to evaluate</small>
            </div>

            <button id="analyzeBtn" class="btn-primary" disabled>Analyze CVs</button>
        </div>

        <div id="loadingSection" class="loading-section hidden">
            <div class="spinner"></div>
            <p id="loadingText">Processing CVs...</p>
            <div id="progressBar" class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
        </div>

        <div id="resultsSection" class="results-section hidden">
            <div class="results-layout">
                <div class="sidebar">
                    <div class="sidebar-header">
                        <h3>All CVs</h3>
                        <div class="sort-controls">
                            <label>Sort:</label>
                            <select id="sortBy">
                                <option value="total">Total Score</option>
                                <option value="relevance">Relevance</option>
                                <option value="education">Education</option>
                                <option value="jobs">Jobs</option>
                                <option value="proactivity">Proactivity</option>
                            </select>
                        </div>
                    </div>
                    <div class="sidebar-search">
                        <input type="text" id="searchCVs" placeholder="Search CVs..." />
                    </div>
                    <div class="sidebar-list" id="sidebarList">
                        <!-- CV list items will be inserted here -->
                    </div>
                    <div class="sidebar-footer">
                        <div class="selection-info">
                            <span id="selectedCount">0</span> selected (max 10)
                        </div>
                        <button id="clearSelection" class="btn-clear">Clear Selection</button>
                    </div>
                </div>
                <div class="main-content">
                    <div class="main-header">
                        <h2>Selected CVs</h2>
                        <div class="selected-count-badge" id="selectedBadge">0 selected</div>
                    </div>
                    <div id="selectedGallery" class="selected-gallery">
                        <div class="empty-state">
                            <p>Select CVs from the sidebar to view detailed analysis</p>
                            <small>You can select up to 10 CVs at a time</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="interviewQuestionsSection" class="interview-questions-section hidden">
            <div class="section-header">
                <h3>üìù Interview Questions Generator</h3>
                <button id="closeInterviewSection" class="btn-close-section">√ó</button>
            </div>
            <div class="interview-controls">
                <div class="input-group-inline">
                    <label for="numQuestions">Number of Questions per CV:</label>
                    <input type="number" id="numQuestions" min="1" max="20" value="5" />
                </div>
                <button id="generateQuestionsBtn" class="btn-secondary">Generate Questions</button>
            </div>
            <div id="interviewQuestions" class="interview-questions-list"></div>
        </div>

        <div id="chatSection" class="chat-section hidden">
            <div class="chat-header">
                <h3>üí¨ Ask Questions About CVs</h3>
                <button id="toggleChat" class="btn-toggle-chat">‚àí</button>
            </div>
            <div class="chat-body">
                <div class="chat-cv-selector">
                    <label>Select CVs to use as context:</label>
                    <div class="chat-dropdown-container">
                        <div class="chat-dropdown-header" onclick="toggleChatDropdown()">
                            <span id="chatDropdownText">Select CVs...</span>
                            <span class="dropdown-arrow">‚ñº</span>
                        </div>
                        <div id="chatDropdown" class="chat-dropdown hidden">
                            <input type="text" id="chatCVSearch" placeholder="Search CVs..." class="chat-search-input" />
                            <div id="chatCVList" class="chat-cv-list"></div>
                        </div>
                    </div>
                    <small>Select one or more CVs to ask questions about</small>
                </div>
                <div id="chatMessages" class="chat-messages"></div>
                <div class="chat-input-container">
                    <input type="text" id="chatInput" placeholder="Ask a question about the selected CVs..." />
                    <button id="sendChatBtn" class="btn-send-chat">Send</button>
                </div>
            </div>
        </div>

        <button id="openChatBtn" class="btn-open-chat hidden">üí¨ Chat</button>

        <div id="errorSection" class="error-section hidden"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>

